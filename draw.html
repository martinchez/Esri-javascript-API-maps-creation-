<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Draw tools</title>
    <style>
        body,
        html,
        #viewDiv {
            padding: 0;
            height: 100%;
            width: 100%;
            margin: 0;
        }
    </style>
    <link rel="stylesheet" href="https://js.arcgis.com/4.26/esri/themes/light/main.css">
    <script src="https://js.arcgis.com/4.26/"></script>
    <script>
        require([
            'esri/Map',
            'esri/config',
            'esri/views/MapView',

            'esri/widgets/BasemapGallery',
            'esri/widgets/BasemapToggle',
            'esri/widgets/Search',
            'esri/widgets/Expand',
            'esri/widgets/AreaMeasurement2D',
            'esri/widgets/Print',
            'esri/widgets/Home',
            'esri/widgets/DistanceMeasurement2D'
        ], function (
            Map,
            esriConfig,
            MapView,
            BasemapGallery,
            BasemapToggle,
            Search,
            Expand,
            AreaMeasurement2D,
            Print,
            Home,
            DistanceMeasurement2D
        ) {
            esriConfig.apiKey = 'AAPKfc4b18b468414951818ffeba82f9b258GCLEz3Ahp7jNW5vYhYPzqDmfnL7z6X3iC2uYk62u2xv95LdQqq8s71ff7vxDCYw_';
            const map = new Map({
                basemap: "arcgis-imagery"
            });
            const view = new MapView({
                container: "viewDiv",
                map: map,
                center: [36.8219, 1.2921],
                zoom: 10
            });
            var basemapToggle = new BasemapToggle({
                view: view,
                nextBasemap: "arcgis-imagery"
            });
            // view.ui.add(basemapToggle,'bottom-right');
            const basemapGallery = new BasemapGallery({
                view: view,
                source: {
                    query: {
                        title: '"World Basemaps for Developers" AND owner:esri'
                    }
                }
            });

            // view.ui.add(basemapGallery, "top-left"); // Add to the view
            const search = new Search({
                view: view
            })
            view.ui.add(search, "top-right"); // Add to the view

            const bgExpand = new Expand({
                view: view,
                content: basemapGallery
            });
            view.ui.add(bgExpand, "top-left"); // Add to the view
            
            const areaMeasurement2D = new AreaMeasurement2D({
                view: view,
            });
            let expandareaMeasurement2D = new Expand({
                expandIconClass: "esri-icon-measure-area",
                view: view,
                content: areaMeasurement2D
            });
            view.ui.add(expandareaMeasurement2D, "top-right"); // Add to

            // adding the print service of the map
            const print = new Print({
                view:view,
                printServiceUrl: "https://utility.arcgisonline.com/arcgis/rest/services/Utilities/PrintingTools/GPServer/Export%20Web%20Map%20Task"
            });
            let expandPrint = new Expand({
                expandIconClass: "esri-icon-printer",
                view: view,
                content: print
            });
            
            view.ui.add(expandPrint,'top-right');
            const home = new Home({
                view:view
            })
            view.ui.add(home,'top-left');
            // Add the DistanceMeasurement2D widget to the view
            const distanceMeasurementWidget = new DistanceMeasurement2D({
                view: view
            });
            let expanddistanceMeasurementWidget = new Expand({
                expandIconClass: "esri-icon-measure-line",
                view: view,
                content: distanceMeasurementWidget
            });
            
            view.ui.add(expanddistanceMeasurementWidget,'top-left')
        })
    </script>
</head>

<body>
    <div id="viewDiv"></div>
</body>

</html>